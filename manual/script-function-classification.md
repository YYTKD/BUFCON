# script.js 関数分類（UI依存 / UI非依存）

## UI非依存（DOMやブラウザAPIに直接依存しない）

- `getCollection`
- `getCategories`
- `getContrastColor`
- `replaceCategoryOnItems`
- `replaceBuffTargetsForCategory`
- `buildCategoryMap`
- `getCategoryInsertIndex`
- `getTargetText`
- `getBuffMemoText`
- `getBuffSimpleMemo`
- `getAutocompleteSuggestions`
- `getTokenAtCaret`
- `generateUUID`
- `formatTargetsForBulk`
- `formatPackageForBulk`

## UI依存（DOM操作・イベント・ブラウザAPIに依存）

- `getContextMenu`
- `hideContextMenu`
- `showContextMenu`
- `getItemContextActions`
- `openItemContextMenu`
- `openCategoryContextMenu`
- `openSettingsModal`
- `setupSettingsMenu`
- `escapeHtml`
- `validateColor`
- `getThemeColorValue`
- `getDefaultBuffColor`
- `getSecondaryBuffColor`
- `applyTheme`
- `updateColorDatalist`
- `updateThemeToggle`
- `initTheme`
- `getActiveModal`
- `showToast`
- `toggleSection`
- `saveUIState`
- `loadUIState`
- `loadData`
- `getDefaultBuffs`
- `getDefaultJudges`
- `getDefaultAttacks`
- `saveData`
- `resetAll`
- `exportData`
- `importData`
- `initFileDropZone`
- `addCategory`
- `refreshCategoryViews`
- `editCategory`
- `removeCategory`
- `copyCategoryName`
- `updateCategoryIndexDropdown`
- `scrollToCategory`
- `handleCategoryIndexChange`
- `renderBuffItems`
- `renderPackageItems`
- `buildCategorySelectOptions`
- `updateCategorySelect`
- `updateBuffCategorySelect`
- `updateJudgeCategorySelect`
- `updateAttackCategorySelect`
- `loadUserDictionary`
- `saveUserDictionary`
- `addOrUpdateMacro`
- `startMacroEdit`
- `cancelMacroEdit`
- `deleteMacro`
- `renderMacroItems`
- `attachMacroEvents`
- `renderMacroDictionary`
- `exportUserDictionary`
- `importUserDictionary`
- `resetDictionary`
- `setupUserDictionaryModal`
- `initMultiSelect`
- `updateBuffTargetDropdown`
- `openBuffModal`
- `resetBuffForm`
- `insertText`
- `addBuff`
- `bulkAdd`
- `setupBulkAddControls`
- `toggleBuff`
- `removeBuff`
- `resetBuffsToMaxTurns`
- `progressTurn`
- `renderBuffs`
- `attachBuffEvents`
- `handleDragStart`
- `handleDragOver`
- `handleDragLeave`
- `handleDrop`
- `handleCategoryHeaderDragStart`
- `handleCategoryHeaderDragEnd`
- `handleCategoryDragOver`
- `handleCategoryDragLeave`
- `reorderCategory`
- `handleCategoryDrop`
- `handleCategoryBodyDragOver`
- `handleCategoryBodyDragLeave`
- `handleCategoryBodyDrop`
- `handleDragEnd`
- `openJudgeModal`
- `resetJudgeForm`
- `openAttackModal`
- `resetAttackForm`
- `addJudge`
- `removeJudge`
- `addAttack`
- `removeAttack`
- `selectPackage`
- `renderPackage`
- `attachItemEvents`
- `updatePackageOutput`
- `getAutocompleteDropdown`
- `showAutocompleteDropdown`
- `hideAutocompleteDropdown`
- `selectAutocompleteItem`
- `setSelectedAutocompleteIndex`
- `setupAutocompleteFields`
- `setupAutocompleteClickOutside`
- `formatBuffForBulk`
- `copyItemData`
- `copyToClipboard`
